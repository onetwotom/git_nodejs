{"remainingRequest":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\orderList\\OrderList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\orderList\\OrderList.vue","mtime":1639278643377},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\babel.config.js","mtime":1634821351187},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzkyMjkzOS9EZXNrdG9wL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgRG9ja2VyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRG9ja2VyLnZ1ZSc7Cgp2YXIgdXNlT3JkZXJMaXN0RWZmZWN0ID0gZnVuY3Rpb24gdXNlT3JkZXJMaXN0RWZmZWN0KCkgewogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgbGlzdDogW10KICB9KTsKCiAgdmFyIGdldE5lYXJieUxpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQsIG9yZGVyTGlzdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoJy9hcGkvb3JkZXInKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5kYXRhLmVycm5vKSA9PT0gMCkgewogICAgICAgICAgICAgICAgb3JkZXJMaXN0ID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIG9yZGVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChvcmRlcikgewogICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdHMgPSBvcmRlci5wcm9kdWN0cyB8fCBbXTsKICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsUHJpY2UgPSAwOwogICAgICAgICAgICAgICAgICB2YXIgdG90YWxOdW1iZXIgPSAwOwogICAgICAgICAgICAgICAgICBwcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9kdWN0SXRlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBfcHJvZHVjdEl0ZW0kcHJvZHVjdDsKCiAgICAgICAgICAgICAgICAgICAgdG90YWxOdW1iZXIgKz0gKHByb2R1Y3RJdGVtID09PSBudWxsIHx8IHByb2R1Y3RJdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9kdWN0SXRlbS5vcmRlclNhbGVzKSB8fCAwOwogICAgICAgICAgICAgICAgICAgIHRvdGFsUHJpY2UgKz0gKHByb2R1Y3RJdGVtID09PSBudWxsIHx8IHByb2R1Y3RJdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Byb2R1Y3RJdGVtJHByb2R1Y3QgPSBwcm9kdWN0SXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfcHJvZHVjdEl0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2R1Y3RJdGVtJHByb2R1Y3QucHJpY2UpICogKHByb2R1Y3RJdGVtID09PSBudWxsIHx8IHByb2R1Y3RJdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9kdWN0SXRlbS5vcmRlclNhbGVzKSB8fCAwOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgb3JkZXIudG90YWxQcmljZSA9IHRvdGFsUHJpY2U7CiAgICAgICAgICAgICAgICAgIG9yZGVyLnRvdGFsTnVtYmVyID0gdG90YWxOdW1iZXI7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRhdGEubGlzdCA9IHJlc3VsdC5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0TmVhcmJ5TGlzdCgpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICBnZXROZWFyYnlMaXN0KCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICBsaXN0ID0gX3RvUmVmcy5saXN0OwoKICByZXR1cm4gewogICAgbGlzdDogbGlzdAogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09kZXJMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBEb2NrZXI6IERvY2tlcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VPcmRlckxpc3RFZmZlY3QgPSB1c2VPcmRlckxpc3RFZmZlY3QoKSwKICAgICAgICBsaXN0ID0gX3VzZU9yZGVyTGlzdEVmZmVjdC5saXN0OwoKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IGxpc3QKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\orderList\\OrderList.vue"],"names":[],"mappings":";;;AAoCA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,MAAP,MAAmB,6BAAnB;;AAEA,IAAM,kBAAiB,GAAI,SAArB,kBAAqB,GAAM;AAC/B,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,IAAI,EAAE;AAAR,GAAD,CAArB;;AACA,MAAM,aAAY;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACC,GAAG,CAAC,YAAD,CADJ;;AAAA;AACd,cAAA,MADc;;AAEpB,kBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,IAAR,CAAa,KAAb,MAAuB,CAA3B,EAA8B;AACtB,gBAAA,SADsB,GACV,MAAM,CAAC,IAAP,CAAY,IADF;AAE5B,gBAAA,SAAS,CAAC,OAAV,CAAkB,UAAC,KAAD,EAAW;AAC3B,sBAAM,QAAO,GAAI,KAAK,CAAC,QAAN,IAAkB,EAAnC;AACA,sBAAI,UAAS,GAAI,CAAjB;AACA,sBAAI,WAAU,GAAI,CAAlB;AACA,kBAAA,QAAQ,CAAC,OAAT,CAAiB,UAAC,WAAD,EAAiB;AAAA;;AAChC,oBAAA,WAAU,IAAM,CAAA,WAAW,SAAX,IAAA,WAAW,WAAX,YAAA,WAAW,CAAE,UAAb,KAA2B,CAA3C;AACA,oBAAA,UAAS,IAAO,CAAA,WAAW,SAAX,IAAA,WAAW,WAAX,oCAAA,WAAW,CAAE,OAAb,8EAAsB,KAAtB,KAA8B,WAA9B,aAA8B,WAA9B,uBAA8B,WAAW,CAAE,UAA3C,CAAD,IAA2D,CAA1E;AACD,mBAHD;AAIA,kBAAA,KAAK,CAAC,UAAN,GAAmB,UAAnB;AACA,kBAAA,KAAK,CAAC,WAAN,GAAoB,WAApB;AACD,iBAVD;AAWA,gBAAA,IAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,IAAxB;AACF;;AAhBoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAZ,aAAY;AAAA;AAAA;AAAA,KAAlB;;AAkBA,EAAA,aAAa;;AACb,gBAAiB,MAAM,CAAC,IAAD,CAAvB;AAAA,MAAQ,IAAR,WAAQ,IAAR;;AACA,SAAO;AAAE,IAAA,IAAG,EAAH;AAAF,GAAP;AACF,CAvBA;;AAwBA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,MAAK,EAAL;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGJ;AACP,8BAAiB,kBAAkB,EAAnC;AAAA,QAAQ,IAAR,uBAAQ,IAAR;;AACA,WAAO;AAAE,MAAA,IAAG,EAAH;AAAF,KAAP;AACF;AANa,CAAf","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">我的订单</div>\r\n    <div class=\"orders\">\r\n        <div class=\"order\"\r\n        v-for=\"(item,index) in list\"\r\n        :key=\"index\"\r\n        >\r\n            <div class=\"order__title\">{{item.shopName}}\r\n                <span class=\"order__status\">\r\n                  {{item.isCanceled ? '已取消' : '已下单'}}\r\n                </span>\r\n            </div>\r\n            <div class=\"order__content\">\r\n                <div class=\"order__content__imgs\">\r\n                  <template\r\n                  v-for=\"(innerItem, innerIndex) in item.products\"\r\n                  :key=\"innerIndex\"\r\n                  >\r\n                    <img  class=\"order__content__img\"\r\n                    :src=\"innerItem.product.img\"\r\n                    v-if=\"innerIndex <= 3\"\r\n                    />\r\n                  </template>\r\n                </div>\r\n                <div class=\"order__info\">\r\n                    <div class=\"order__info__price\">￥{{item.totalPrice}}</div>\r\n                    <div class=\"order__info__count\">共{{item.totalNumber}}件</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <Docker :currentIndex='2' />\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { get } from '../../utils/request'\r\nimport Docker from '../../components/Docker.vue'\r\n\r\nconst useOrderListEffect = () => {\r\n  const data = reactive({ list: [] })\r\n  const getNearbyList = async () => {\r\n    const result = await get('/api/order')\r\n    if (result?.data.errno === 0) {\r\n      const orderList = result.data.data\r\n      orderList.forEach((order) => {\r\n        const products = order.products || []\r\n        let totalPrice = 0\r\n        let totalNumber = 0\r\n        products.forEach((productItem) => {\r\n          totalNumber += (productItem?.orderSales || 0)\r\n          totalPrice += ((productItem?.product?.price * productItem?.orderSales) || 0)\r\n        })\r\n        order.totalPrice = totalPrice\r\n        order.totalNumber = totalNumber\r\n      })\r\n      data.list = result.data.data\r\n    }\r\n  }\r\n  getNearbyList()\r\n  const { list } = toRefs(data)\r\n  return { list }\r\n}\r\nexport default {\r\n  name: 'OderList',\r\n  components: { Docker },\r\n  setup () {\r\n    const { list } = useOrderListEffect()\r\n    return { list }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.wrapper{\r\n  overflow-y:auto ;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0.5rem;\r\n  color:$content-fontcolor;\r\n  background: #eee;\r\n}\r\n.title{\r\n  line-height: .44rem;\r\n  background: #fff;\r\n  color: #333;\r\n  font-size: .16rem;\r\n  text-align: center;\r\n}\r\n.order{\r\n  margin: .16rem  .18rem;\r\n  background: #fff;\r\n  padding: .16rem;\r\n  &__title{\r\n    margin-bottom: .16rem;\r\n    font-size: .16rem;\r\n    line-height: .22rem;\r\n    color: #333;\r\n    font-weight: bold;\r\n  }\r\n  &__status{\r\n    font-weight: none;\r\n    font-size: .14rem;\r\n    color: #999999;\r\n    float: right;\r\n  }\r\n  &__content{\r\n    display: flex;\r\n    &__imgs{\r\n      flex: 1;\r\n    }\r\n    &__img{\r\n      width: .4rem;\r\n      height: .4rem;\r\n      margin-right: .12rem;\r\n    }\r\n  }\r\n  &__info{\r\n    width: .7rem;\r\n    &__price{\r\n      margin-bottom: .04rem;\r\n      font-size: .14rem;\r\n      color: #E93B3B;\r\n      text-align: right;\r\n    }\r\n    &__count{\r\n      font-size: .12rem;\r\n      color: #333;\r\n      text-align: right;\r\n      line-height: .14rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}