{"remainingRequest":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\register\\Register.vue","mtime":1637659892502},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\babel.config.js","mtime":1634821351187},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\922939\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzkyMjkzOS9EZXNrdG9wL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IFRvYXN0LCB7IHVzZVRvYXN0RWZmZWN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Ub2FzdC52dWUnOwoKdmFyIHVzZVJlZ2lzdGVyRWZmZWN0ID0gZnVuY3Rpb24gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgdXNlcm5hbWU6ICcnLAogICAgcGFzc3dvcmQ6ICcnCiAgfSk7CgogIHZhciBoYW5kbGVSZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9yZXN1bHQkZGF0YSwgcmVzdWx0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvYXBpL3VzZXIvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Jlc3VsdCRkYXRhID0gcmVzdWx0LmRhdGEpID09PSBudWxsIHx8IF9yZXN1bHQkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3VsdCRkYXRhLmVycm5vKSA9PT0gMCkgewogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfms6jlhozlpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHNob3dUb2FzdCgn5rOo5YaM5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICB1c2VybmFtZSA9IF90b1JlZnMudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkID0gX3RvUmVmcy5wYXNzd29yZDsKCiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgIGhhbmRsZVJlZ2lzdGVyOiBoYW5kbGVSZWdpc3RlcgogIH07Cn07Cgp2YXIgdXNlSGFuZGxlTG9naW4gPSBmdW5jdGlvbiB1c2VIYW5kbGVMb2dpbigpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHZhciBoYW5kbGVMb2dpbiA9IGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnTG9naW4nCiAgICB9KTsKICB9OwoKICByZXR1cm4gewogICAgaGFuZGxlTG9naW46IGhhbmRsZUxvZ2luCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgX3VzZVJlZ2lzdGVyRWZmZWN0ID0gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSwKICAgICAgICB1c2VybmFtZSA9IF91c2VSZWdpc3RlckVmZmVjdC51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IF91c2VSZWdpc3RlckVmZmVjdC5wYXNzd29yZCwKICAgICAgICBoYW5kbGVSZWdpc3RlciA9IF91c2VSZWdpc3RlckVmZmVjdC5oYW5kbGVSZWdpc3RlcjsKCiAgICB2YXIgX3VzZUhhbmRsZUxvZ2luID0gdXNlSGFuZGxlTG9naW4oKSwKICAgICAgICBoYW5kbGVMb2dpbiA9IF91c2VIYW5kbGVMb2dpbi5oYW5kbGVMb2dpbjsKCiAgICByZXR1cm4gewogICAgICBoYW5kbGVMb2dpbjogaGFuZGxlTG9naW4sCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIsCiAgICAgIHNob3c6IHNob3csCiAgICAgIHRvYXN0TWVzc2FnZTogdG9hc3RNZXNzYWdlLAogICAgICBzaG93VG9hc3Q6IHNob3dUb2FzdAogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\922939\\Desktop\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":";;AA4BA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,4BAAtC;;AAEA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,CAAC,SAAD,EAAe;AACvC,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,IAAA,QAAQ,EAAE,EADU;AAEpB,IAAA,QAAQ,EAAE;AAFU,GAAD,CAArB;;AAIA,MAAM,cAAa;AAAA,uEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE,IAAI,CAAC,oBAAD,EAAuB;AAC9C,gBAAA,QAAQ,EAAE,IAAI,CAAC,QAD+B;AAE9C,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAF+B,eAAvB,CAFN;;AAAA;AAEb,cAAA,MAFa;;AAMnB,kBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,4BAAA,MAAM,CAAE,IAAR,8DAAc,KAAd,MAAwB,CAA5B,EAA+B;AAC7B,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AACF,eAFA,MAEO;AACL,gBAAA,SAAS,CAAC,MAAD,CAAT;AACF;;AAVmB;AAAA;;AAAA;AAAA;AAAA;AAYnB,cAAA,SAAS,CAAC,MAAD,CAAT;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAb,cAAa;AAAA;AAAA;AAAA,KAAnB;;AAeA,gBAA+B,MAAM,CAAC,IAAD,CAArC;AAAA,MAAQ,QAAR,WAAQ,QAAR;AAAA,MAAkB,QAAlB,WAAkB,QAAlB;;AACA,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,QAAQ,EAAR,QAAZ;AAAsB,IAAA,cAAa,EAAb;AAAtB,GAAP;AACF,CAvBA;;AAwBA,IAAM,cAAa,GAAI,SAAjB,cAAiB,GAAM;AAC3B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB,IAAA,MAAM,CAAC,IAAP,CAAY;AAAE,MAAA,IAAI,EAAE;AAAR,KAAZ;AACF,GAFA;;AAGA,SAAO;AAAE,IAAA,WAAU,EAAV;AAAF,GAAP;AACF,CANA;;AAOA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGJ;AACP,0BAA0C,cAAc,EAAxD;AAAA,QAAQ,IAAR,mBAAQ,IAAR;AAAA,QAAc,YAAd,mBAAc,YAAd;AAAA,QAA4B,SAA5B,mBAA4B,SAA5B;;AACA,6BAA+C,iBAAiB,CAAC,SAAD,CAAhE;AAAA,QAAQ,QAAR,sBAAQ,QAAR;AAAA,QAAkB,QAAlB,sBAAkB,QAAlB;AAAA,QAA4B,cAA5B,sBAA4B,cAA5B;;AACA,0BAAwB,cAAc,EAAtC;AAAA,QAAQ,WAAR,mBAAQ,WAAR;;AACA,WAAO;AACL,MAAA,WAAW,EAAX,WADK;AAEL,MAAA,QAAQ,EAAR,QAFK;AAGL,MAAA,QAAQ,EAAR,QAHK;AAIL,MAAA,cAAc,EAAd,cAJK;AAKL,MAAA,IAAI,EAAJ,IALK;AAML,MAAA,YAAY,EAAZ,YANK;AAOL,MAAA,SAAQ,EAAR;AAPK,KAAP;AASF;AAhBa,CAAf","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\" />\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n            autocomplete=\"new-password\"\r\n            v-model=\"username\"\r\n            placeholder=\"请输入手机号\" class=\"wrapper__input__content\" type=\"text\"/>\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n            autocomplete=\"new-password\"\r\n            v-model=\"password\"\r\n            placeholder=\"请输入密码\" class=\"wrapper__input__content\" type=\"password\"/>\r\n        </div>\r\n                <div class=\"wrapper__input\">\r\n            <input\r\n            autocomplete=\"new-password\"\r\n            placeholder=\"确认密码\" class=\"wrapper__input__content\" type=\"password\"/>\r\n        </div>\r\n        <div class=\"wrapper__login-button\" @click=\"handleRegister\">注册</div>\r\n        <div class=\"wrapper__login-link\">\r\n            <span class=\"wrapper__login__text\" @click=\"handleLogin\">已有账号去登陆</span>\r\n        </div>\r\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: ''\r\n  })\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await post('/api/user/register', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      if (result?.data?.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        showToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      showToast('注册失败')\r\n    }\r\n  }\r\n  const { username, password } = toRefs(data)\r\n  return { username, password, handleRegister }\r\n}\r\nconst useHandleLogin = () => {\r\n  const router = useRouter()\r\n  const handleLogin = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLogin }\r\n}\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const { username, password, handleRegister } = useRegisterEffect(showToast)\r\n    const { handleLogin } = useHandleLogin()\r\n    return {\r\n      handleLogin,\r\n      username,\r\n      password,\r\n      handleRegister,\r\n      show,\r\n      toastMessage,\r\n      showToast\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wrapper{\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 50%;\r\n    padding: 0 .4rem;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height: .66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        padding: 0 .16rem;\r\n        height: .48rem;\r\n        background: #F9F9F9;\r\n        border: 1px solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        margin-bottom: .16rem;\r\n        &__content{\r\n            font-size: .16rem;\r\n            color: rgba(0,0,0,.5);\r\n            width: 100%;\r\n            line-height: .48rem;\r\n            border-style: none;\r\n            outline-style: none;\r\n            background: none;\r\n        }\r\n    }\r\n    &__login-button{\r\n        color:#fff;\r\n        margin:.32rem 0 .16rem 0;\r\n        font-size: .16rem;\r\n        line-height: .48rem;\r\n        text-align: center;\r\n        width: 100%;\r\n        height: .48rem;\r\n        background: #0091FF;\r\n    }\r\n    &__login-link{\r\n        text-align: center;\r\n    }\r\n    &__login__span{\r\n        font-size:.14rem;\r\n        color:rgba(0,0,0,0.5);\r\n        margin: 0 .12rem;\r\n    }\r\n    &__login__text{\r\n        font-size:.14rem;\r\n        color:rgba(0,0,0,0.5);\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}